Ti.include('HouseMembers.js');

var mWindow= Ti.UI.createWindow({
	title: "House Stark and Lannister"
});
var navWindow = Ti.UI.iOS.createNavigationWindow({
	window: mWindow
});



var table= Ti.UI.createTableView();


var starkSection = Ti.UI.createTableViewSection ({
	headerTitle: "Stark",
	footerTitle: "			Winter is Comming"
});

var lannisterSection = Ti.UI.createTableViewSection ({
	headerTitle: "Lannister",
	footerTitle: "			Hear us Roar"
});


var myDataSetions = [starkSection, lannisterSection];
table.setData(myDataSetions);


var getDetail = function(){
	var detailWindow = Ti.UI.createWindow({
		backgroundColor: "#fff",
		title: this.title,
		font: {fontsize: 16, fontFamily: "AmericanTypewriter"}
	});
	var detailLabel = Ti.UI.createLabel({
		text: this.bio
	});
	detailWindow.add(detailLabel);
	navWindow.openWindow(detailWindow, {animate: true});
};


for(var i=0, j=starkMem.length; i<j; i++){
	var houseRow = Ti.UI.createTableViewRow({
		title: starkMem[i].title,
		bio: starkMem[i].info,
		font: {fontsize: 12, fontFamily: "AmericanTypewriter"}
	});
	starkSection.add(houseRow);
	houseRow.addEventListener("click", getDetail);
};

for(var i=0, j=lannMem.length; i<j; i++){
	var houseRow = Ti.UI.createTableViewRow({
		title: lannMem[i].title,
		bio: lannMem[i].info,
		font: {fontsize: 12, fontFamily: "AmericanTypewriter"}
	});
	lannisterSection.add(houseRow);
	houseRow.addEventListener("click", getDetail);
};



mWindow.add(table);
navWindow.open();
